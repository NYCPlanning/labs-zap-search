<ProjectsMapData as |map|>
  {{#if this.tiles}}
    {{!-- High-level dynamic tiles configuration --}}
    <map.DynamicTiles
      tiles={{this.tilesForZoom}}
      sourceId={{this.projectCentroidsCircleLayer.source}}
      as |dynamic-tile-source|
    >
      <dynamic-tile-source.Layer
        @layer={{this.projectCentroidsCircleLayer}}
        before='boundary_country'
      />

      <dynamic-tile-source.Layer
        @layer={{this.projectPolygonsLayer}}
        before='boundary_country'
      />

      {{!-- Anything else for dynamic tiles, like hovers --}}
      <dynamic-tile-source.Layer
        @layer={{this.projectCentroidsCircleHoverLayer}}
      />

      <dynamic-tile-source.Layer
        @layer={{this.projectPolygonsHoverLayer}}
      />
    </map.DynamicTiles>
  {{/if}}

  {{map.on 'zoomend' (fn this.computeTileMode)}}

  {{yield (merge
    map
    (hash
      address-search=(component 'address-search' map=map)
      filter-distance-from-point=(component 'filter-distance-from-point' map=map)
    )
  )}}
</ProjectsMapData>
