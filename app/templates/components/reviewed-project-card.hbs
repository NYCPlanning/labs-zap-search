<div
    class="project-summary-card callout"
    data-test-project-card
  >
    <div class="grid-x grid-x-small-gutters">
      <div class="cell large-5">
        <h3 class="tiny-margin-bottom">
          {{#link-to 'show-project' this.project.id}}{{this.project.dcpProjectname}}{{/link-to}}
          <small class="dark-gray">{{this.project.dcpUlurpNonulurp}}</small>
        </h3>
        <h5 class="applicant">{{this.project.applicants}}</h5>
        <p>{{this.project.dcpProjectbrief}}</p>
      </div>
      <div class="cell medium-4 large-shrink">
        {{#each this.timeDisplays as |timeDisplay|}}
          <div class="lup-countdown medium-margin-right medium-margin-left">
            <p class="cert-date">{{timeDisplay.displayName}}</p>
            <p class="days">{{timeDisplay.timeRemaining}}</p>
            <p class="total">of {{timeDisplay.timeDuration}} days remain</p>
            <p class="end-date">Ends {{moment-format timeDisplay.dcpActualenddate "M/D/YYYY"}}</p>
          </div>
        {{/each}}
      </div>
      <div class="cell medium-auto">
        <ul class="no-bullet no-margin">
          {{#each this.project.tabSpecificMilestones as |milestone|}}
            <li class="grid-x">
              <div class="cell shrink small-margin-right">
                {{#if (eq milestone.statuscode "Completed")}}
                  <span data-test={{if (string-includes milestone.milestonename "Referral") "reviewed-indicator"}}>
                    {{fa-icon 'check' class='blue' fixedWidth=true}}
                  </span>
                {{else if (eq milestone.statuscode "In Progress")}}
                  {{fa-icon 'hourglass-half' class='blue' fixedWidth=true}}
                {{else if (eq milestone.statuscode "Overridden")}}
                  {{fa-icon 'times' class='red-muted' fixedWidth=true}}
                {{else}}
                  {{fa-icon 'calendar' class='light-gray' fixedWidth=true}}
                {{/if}}
              </div>
              <div class="cell auto {{if (eq milestone.statuscode "Not Started") 'gray'}}">
                <p class="small-margin-bottom">
                  <strong>{{milestone.milestonename}}</strong>
                  {{#each this.project.dispositions as |disposition|}}
                    {{#if (eq milestone.dcpMilestone this.milestoneConstants.COMMUNITY_BOARD_REFERRAL)}}
                      {{#if (or (eq disposition.communityboardrecommendation "Approved") (eq disposition.communityboardrecommendation "Approved with Modifications/Conditions"))}}
                        {{fa-icon 'thumbs-up' class='green-muted' fixedWidth=true}}
                      {{/if}}
                      {{#if (or (eq disposition.communityboardrecommendation "Disapproved") (eq disposition.communityboardrecommendation "Disapproved with Modifications/Conditions"))}}
                        {{fa-icon 'thumbs-down' class='red-muted' fixedWidth=true}}
                      {{/if}}
                      {{#if (eq disposition.communityboardrecommendation "Waived")}}
                        {{fa-icon 'comment-slash' class='gray' fixedWidth=true}}
                      {{/if}}
                    {{/if}}
                    {{#if (eq milestone.dcpMilestone this.milestoneConstants.BOROUGH_BOARD_REFERRAL)}}
                      {{#if (or (eq disposition.boroughboardrecommendation "Approved") (eq disposition.boroughboardrecommendation "Approved with Modifications/Conditions"))}}
                        {{fa-icon 'thumbs-up' class='green-muted' fixedWidth=true}}
                      {{/if}}
                      {{#if (or (eq disposition.boroughboardrecommendation "Disapproved") (eq disposition.boroughboardrecommendation "Disapproved with Modifications/Conditions"))}}
                        {{fa-icon 'thumbs-down' class='red-muted' fixedWidth=true}}
                      {{/if}}
                      {{#if (eq disposition.boroughboardrecommendation "Waived")}}
                        {{fa-icon 'comment-slash' class='gray' fixedWidth=true}}
                      {{/if}}
                    {{/if}}
                    {{#if (eq milestone.dcpMilestone this.milestoneConstants.BOROUGH_PRESIDENT_REFERRAL)}}
                      {{#if (or (eq disposition.boroughpresidentrecommendation "Approved") (eq disposition.boroughpresidentrecommendation "Approved with Modifications/Conditions"))}}
                        {{fa-icon 'thumbs-up' class='green-muted' fixedWidth=true}}
                      {{/if}}
                      {{#if (or (eq disposition.boroughpresidentrecommendation "Disapproved") (eq disposition.boroughpresidentrecommendation "Disapproved with Modifications/Conditions"))}}
                        {{fa-icon 'thumbs-down' class='red-muted' fixedWidth=true}}
                      {{/if}}
                      {{#if (eq disposition.boroughpresidentrecommendation "Waived")}}
                        {{fa-icon 'comment-slash' class='gray' fixedWidth=true}}
                      {{/if}}
                    {{/if}}
                  {{/each}}
                  <small class="display-block">{{milestone.displayDate}}</small>
                </p>
              </div>
            </li>
          {{/each}}
        </ul>
      </div>
    </div>
  </div>
