<div
    class="project-summary-card callout"
    data-test-project-card
  >
    <div class="grid-x grid-x-small-gutters">
      <div class="cell large-4 xlarge-5">
        <h3 class="tiny-margin-bottom">
          {{#link-to 'show-project' this.assignment.project.id}}{{this.assignment.project.dcpProjectname}}{{/link-to}}
          <small class="dark-gray">{{this.assignment.project.dcpUlurpNonulurp}}</small>
        </h3>
        <h5 class="applicant">{{this.assignment.project.applicants}}</h5>
        <p>{{this.assignment.project.dcpProjectbrief}}</p>
      </div>
      <div class="cell medium-4 large-3 xlarge-2">
        <div class="text-center medium-margin-right medium-margin-left">
          <p class="tiny-margin-bottom">{{timeDisplayLabel}}</p>
          <p>
            <strong
              class="stat"
              data-test-estimated-time-remaining
            >{{plannedTimeDisplay.estTimeRemaining}}</strong>
            <strong class="display-block">of {{plannedTimeDisplay.estTimeDuration}} estimated days remain</strong>
          </p>
          <p class="text-tiny">
            Estimated End <DateDisplay @date={{plannedTimeDisplay.dcpPlannedcompletiondate}} outputFormat="M/D/YYYY" />
          </p>
        </div>
      </div>
      <div class="cell medium-auto">
        <ul class="no-bullet no-margin">
          {{#each assignment.tabSpecificMilestones as |milestone|}}
            <ReviewedProjectMilestoneListItem
              @project={{this.assignment.project}}
              @milestone={{milestone}}
            />
            {{#hearings-list-for-milestones-list milestone=milestone as |milestoneParticipants|}}
              {{#each milestoneParticipants as |milestoneParticipant|}}
                {{#if milestoneParticipant.hearingsSubmitted}}
                  <strong data-test-lup-full-name="{{milestoneParticipant.landUseParticipantFullName}}">
                    {{milestoneParticipant.landUseParticipantFullName}} Public Hearing
                  </strong>
                  {{#deduped-hearings-list dispositions=milestoneParticipant.userDispositions as |dedupedHearings|}}
                    {{#each dedupedHearings as |hearing|}}
                      <ul class="sub-milestones no-bullet">
                        <li class="grid-x">
                          <div class="cell shrink small-margin-right">
                            {{#if (is-before hearing.disposition.dcpDateofpublichearing)}}
                              {{fa-icon 'calendar' fixedWidth=true class='light-gray'}}
                            {{else}}
                              {{fa-icon 'check' fixedWidth=true class='blue-muted'}}
                            {{/if}}
                          </div>
                          <div class="cell auto">
                            <span data-test-hearing-location="{{hearing.disposition.id}}">{{hearing.disposition.dcpPublichearinglocation}}</span>
                            <small class="display-inline-block" data-test-hearing-date="{{hearing.disposition.id}}">
                              <DateDisplay
                                @date={{hearing.disposition.dcpDateofpublichearing}}
                                @outputFormat="LLL"
                              />
                            </small>
                            <span class="display-inline-block text-tiny">
                              {{#each hearing.hearingActions as |action index|}}
                                <span class="label light-gray tiny-margin-bottom tiny-margin-right" data-test-hearing-actions-list="{{hearing.disposition.id}}{{index}}">
                                  {{action.dcpName}}
                                  <small>{{action.dcpUlurpnumber}}</small>
                                </span>
                              {{/each}}
                            </span>
                          </div>
                        </li>
                      </ul>
                    {{/each}}
                  {{/deduped-hearings-list}}
                {{/if}}
              {{/each}}
            {{/hearings-list-for-milestones-list}}
          {{/each}}
        </ul>
      </div>
    </div>
  </div>
